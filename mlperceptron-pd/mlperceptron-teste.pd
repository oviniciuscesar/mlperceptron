#N canvas 674 25 1882 1012 12;
#X declare -lib timbreIDLib;
#X obj 158 471 mlperceptron;
#X obj 158 114 bng 19 250 50 0 empty empty empty 0 -10 0 12 #00ff04 #000000 #000000;
#X obj 158 83 until;
#N canvas 294 25 1158 846 dataset 0;
#X obj 63 311 text get \$0-dataset;
#X obj 63 277 t f b;
#X obj 62 129 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 246 234 text size \$0-dataset;
#X obj 63 349 outlet;
#X obj 62 104 inlet;
#X obj 247 295 s datasize;
#X obj 518 378 text define \$0-dataset;
#X obj 484 148 openpanel;
#X obj 484 173 t a b;
#X obj 484 202 pack s f;
#X msg 484 229 read \$1;
#X obj 451 104 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 452 126 t b b;
#X obj 326 55 r read-text;
#X obj 326 79 t b a;
#X obj 637 204 t a b;
#X obj 637 233 pack s f;
#X obj 637 131 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 637 260 write \$1;
#X obj 637 179 savepanel;
#X obj 559 349 r clear-text;
#X obj 451 82 r load;
#X obj 637 107 r save;
#X obj 270 264 print size;
#X obj 484 285 t b a;
#X obj 454 555 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 409 402 loadbang;
#X obj 409 630 print loaded;
#X msg 409 607 training dataset;
#X msg 469 447 clear;
#X obj 409 424 t b b b b;
#X obj 20 407 list split 6;
#X obj 219 653 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 178 719 print loaded;
#X msg 238 550 clear;
#X obj 178 527 t b b b b;
#X msg 178 696 test dataset;
#X obj 178 496 r test;
#X obj 409 366 r training;
#X obj 62 180 until;
#X obj 62 218 f;
#X obj 100 211 + 1;
#X obj 155 207 sel 0;
#X obj 100 237 mod 60;
#X obj 9 179 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 745 450 datasize 40;
#X floatatom 9 267 5 0 0 0 - - - 0;
#X msg 728 681 read data/ricochet_trill_train_6feat.txt;
#X msg 508 799 read data/ricochet_trill_test_6feat.txt;
#X msg 455 574 read data/train_data.txt;
#X msg 218 671 read data/test_data.txt;
#X connect 0 0 32 0;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 40 0;
#X connect 3 0 6 0;
#X connect 3 0 24 0;
#X connect 3 0 44 1;
#X connect 5 0 2 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 25 0;
#X connect 12 0 13 0;
#X connect 13 1 8 0;
#X connect 14 0 15 0;
#X connect 15 0 3 0;
#X connect 15 1 7 0;
#X connect 16 0 17 0;
#X connect 17 0 19 0;
#X connect 18 0 20 0;
#X connect 19 0 7 0;
#X connect 20 0 16 0;
#X connect 21 0 7 0;
#X connect 22 0 12 0;
#X connect 23 0 18 0;
#X connect 25 0 3 0;
#X connect 25 1 7 0;
#X connect 26 0 50 0;
#X connect 27 0 31 0;
#X connect 29 0 28 0;
#X connect 30 0 7 0;
#X connect 31 0 29 0;
#X connect 31 1 3 0;
#X connect 31 2 26 0;
#X connect 31 3 30 0;
#X connect 33 0 51 0;
#X connect 35 0 7 0;
#X connect 36 0 37 0;
#X connect 36 1 3 0;
#X connect 36 2 33 0;
#X connect 36 3 35 0;
#X connect 37 0 34 0;
#X connect 38 0 36 0;
#X connect 39 0 31 0;
#X connect 40 0 41 0;
#X connect 41 0 42 0;
#X connect 41 0 1 0;
#X connect 41 0 47 0;
#X connect 42 0 44 0;
#X connect 43 0 40 1;
#X connect 44 0 41 1;
#X connect 44 0 43 0;
#X connect 45 0 41 0;
#X connect 50 0 7 0;
#X connect 51 0 7 0;
#X restore 158 172 pd dataset;
#X text 194 49 <- bang to training (100 epochs);
#X obj 448 54 s load;
#X obj 448 29 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X listbox 158 726 48 0 0 1 classificação - - 0;
#X msg 191 210 reset;
#X msg 486 308 training \$1;
#X obj 486 284 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 239 572 print weights;
#X obj 291 548 print bias;
#X floatatom 401 520 12 0 0 0 - - - 0;
#N canvas 1261 210 692 629 erro 0;
#X obj 382 64 array size \$0-erro;
#X obj 90 282 array set \$0-erro;
#X obj 140 154 f;
#X obj 100 128 t f b, f 6;
#X obj 141 177 + 1;
#X obj 184 199 mod 10;
#X floatatom 183 221 5 0 0 0 - - - 0;
#X msg 192 145 0;
#X obj 223 176 r epochs;
#X obj 382 41 r epochs;
#X obj 256 83 t f b;
#X msg 256 59 0;
#X obj 256 35 r reset;
#X obj 336 199 until;
#X obj 382 169 r epochs;
#X obj 419 311 text define \$0-erro;
#X msg 420 236 clear;
#X msg 484 256 write erro.txt;
#X obj 94 348 text set \$0-erro;
#X obj 100 98 inlet;
#X obj 336 137 r reset-master;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 3 0 18 0;
#X connect 3 1 2 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 2 1;
#X connect 5 0 1 1;
#X connect 5 0 18 1;
#X connect 7 0 2 1;
#X connect 8 0 5 1;
#X connect 9 0 0 0;
#X connect 10 0 1 0;
#X connect 10 1 2 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
#X connect 14 0 13 0;
#X connect 16 0 15 0;
#X connect 17 0 15 0;
#X connect 19 0 3 0;
#X connect 20 0 13 0;
#X restore 344 525 pd erro;
#X obj 671 527 s epochs;
#X msg 56 295 weight;
#X msg 15 344 bias;
#X msg 997 355 he;
#X msg 997 381 xavier;
#X msg 995 332 uniform;
#X msg 158 49 1000;
#X msg 995 308 lecun;
#X obj 239 494 route weight bias error;
#X obj 1047 68 bng 19 250 50 0 empty empty analyze\ dataset\ samples -5 -8 0 12 #00ff04 #000000 #000000;
#N canvas 294 25 1556 955 analysis 0;
#X msg 758 173 clear;
#X obj 758 103 r reset;
#X obj 758 229 text define analyze;
#X obj 769 134 r clear-analysis;
#X text 896 229 <-- análise dos onsets pelos descritores, f 15;
#X obj 231 100 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 541 201 5 0 0 0 - - - 0;
#X obj 465 209 s n-onset;
#X text 333 7 AUDIO ANALYSIS;
#X obj 1293 244 text size analyze;
#X floatatom 1293 268 5 0 0 0 - - - 0;
#X obj 1293 214 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 896 402 until;
#X obj 896 440 f;
#X obj 934 433 + 1;
#X obj 947 401 sel 0;
#X obj 934 459 mod 10;
#X obj 973 435 r n-onset;
#X obj 896 498 text get onset_label;
#X obj 896 527 * 44100;
#N canvas 294 25 1911 972 descritores 0;
#X obj 33 14 inlet;
#X obj 31 580 t l b, f 19;
#X obj 254 642 + 1;
#X floatatom 160 661 5 0 0 0 - - - 0;
#X msg 235 588 0;
#X obj 161 612 float, f 11;
#X obj 160 635 t f f, f 11;
#X obj 235 566 r reset;
#X obj 31 719 text set analyze, f 18;
#X msg 366 750 print;
#X obj 33 361 specFlux \$0-sample 256;
#X obj 1508 63 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 1508 83 input_fund \$1;
#X obj 281 807 list split 1;
#X obj 281 781 mfcc \$0-sample 350;
#X obj 281 726 list prepend analyze;
#X obj 281 750 list trim;
#X obj 493 347 specHarmonicity \$0-sample;
#X obj 952 355 specFlatness \$0-sample;
#X obj 1419 372 specKurtosis \$0-sample;
#X obj 104 136 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 105 90 loadbang;
#X msg 106 112 1;
#X obj 593 84 loadbang;
#X msg 103 157 normalize \$1;
#X msg 34 304 analyze \$1 4096;
#X msg 491 274 analyze \$1 4096;
#X msg 950 274 analyze \$1 4096;
#X msg 1416 292 analyze \$1 4096;
#X obj 437 758 specSkewness \$0-sample;
#X msg 437 729 analyze \$1 4096;
#X msg 593 107 window 4096;
#X obj 1270 741 specSpread \$0-sample;
#X msg 1272 671 analyze \$1 4096;
#X obj 1514 740 specRolloff \$0-sample 0.85;
#X msg 1513 660 analyze \$1 4096;
#X obj 33 202 t f f f f, f 197;
#X obj 32 485 pack f f f f, f 199;
#X obj 31 530 list append 0 1;
#X connect 0 0 36 0;
#X connect 1 0 8 0;
#X connect 1 1 5 0;
#X connect 2 0 5 1;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 6 0 8 1;
#X connect 6 1 2 0;
#X connect 7 0 4 0;
#X connect 9 0 14 0;
#X connect 10 0 37 0;
#X connect 11 0 12 0;
#X connect 14 0 13 0;
#X connect 15 0 16 0;
#X connect 16 0 14 0;
#X connect 17 0 37 1;
#X connect 18 0 37 2;
#X connect 19 0 37 3;
#X connect 20 0 24 0;
#X connect 21 0 22 0;
#X connect 22 0 20 0;
#X connect 23 0 31 0;
#X connect 24 0 10 0;
#X connect 25 0 10 0;
#X connect 26 0 17 0;
#X connect 27 0 18 0;
#X connect 28 0 19 0;
#X connect 30 0 29 0;
#X connect 31 0 10 0;
#X connect 31 0 17 0;
#X connect 31 0 18 0;
#X connect 31 0 19 0;
#X connect 33 0 32 0;
#X connect 35 0 34 0;
#X connect 36 0 25 0;
#X connect 36 1 26 0;
#X connect 36 2 27 0;
#X connect 36 3 28 0;
#X connect 37 0 38 0;
#X connect 38 0 1 0;
#X restore 896 567 pd descritores;
#X obj 528 158 s reset;
#N canvas 685 203 1057 683 samples 0;
#X obj 475 123 soundfiler;
#X obj 494 146 s \$0-resize;
#X floatatom 475 169 15 0 0 1 samples - - 0;
#X obj 475 192 / 44100;
#X floatatom 476 214 10 0 0 1 length\ (seconds) - - 0;
#X obj 435 487 s analyze-sample;
#X obj 458 464 s clear-analysis;
#X obj 475 76 f \$0;
#X obj 475 57 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 374 10 loadbang;
#X obj 412 546 print loaded;
#X obj 301 13 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 412 439 t b b b;
#X obj 27 157 table \$0-ricochet;
#X obj 26 180 table \$0-trill;
#X obj 373 32 t b b b b, f 15;
#X msg 412 523 sample files;
#X obj 443 293 soundfiler;
#X obj 462 316 s \$0-resize;
#X floatatom 443 339 15 0 0 1 samples - - 0;
#X obj 443 362 / 44100;
#X floatatom 444 384 10 0 0 1 length\ (seconds) - - 0;
#X obj 443 246 f \$0;
#X obj 443 227 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 492 238 s sample1-length;
#X obj 460 408 s sample2-length;
#X msg 443 269 read -resize audio/trill.wav \$1-trill;
#X msg 475 98 read -resize audio/ricochet.wav \$1-ricochet;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 24 0;
#X connect 7 0 27 0;
#X connect 8 0 7 0;
#X connect 9 0 15 0;
#X connect 11 0 15 0;
#X connect 12 0 16 0;
#X connect 12 1 5 0;
#X connect 12 2 6 0;
#X connect 15 1 12 0;
#X connect 15 2 23 0;
#X connect 15 3 8 0;
#X connect 16 0 10 0;
#X connect 17 0 18 0;
#X connect 17 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 25 0;
#X connect 22 0 26 0;
#X connect 23 0 22 0;
#X connect 26 0 17 0;
#X connect 27 0 0 0;
#X restore 43 50 pd samples;
#X msg 1327 66 read data/ricochet_onset.txt;
#X msg 1309 119 read data/trill_onset.txt;
#X obj 1309 18 loadbang;
#X obj 1327 90 text define ricochet_onset;
#X obj 1309 142 text define trill_onset;
#X obj 465 179 text size ricochet_onset;
#N canvas 394 25 811 584 class_0_analysis 0;
#X obj 197 214 * 44100;
#X obj 197 90 until;
#X obj 197 128 f;
#X obj 235 121 + 1;
#X obj 248 89 sel 0;
#X obj 235 147 mod 10;
#X obj 274 123 r n-onset;
#X obj 197 185 text get ricochet_onset;
#N canvas 676 25 1778 1011 descritores 0;
#X obj 33 14 inlet;
#X obj 31 580 t l b, f 19;
#X obj 254 642 + 1;
#X floatatom 160 661 5 0 0 0 - - - 0;
#X msg 235 588 0;
#X obj 161 612 float, f 11;
#X obj 160 635 t f f, f 11;
#X obj 235 566 r reset;
#X obj 31 719 text set analyze, f 18;
#X msg 1015 720 print;
#X obj 1508 63 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 1508 83 input_fund \$1;
#X obj 930 777 list split 1;
#X obj 930 751 mfcc \$0-sample 350;
#X obj 930 696 list prepend analyze;
#X obj 930 720 list trim;
#X obj 104 136 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 105 90 loadbang;
#X msg 106 112 1;
#X obj 593 84 loadbang;
#X msg 103 157 normalize \$1;
#X msg 34 304 analyze \$1 4096;
#X msg 582 287 analyze \$1 4096;
#X msg 860 277 analyze \$1 4096;
#X msg 1416 292 analyze \$1 4096;
#X obj 1086 728 specSkewness \$0-sample;
#X msg 1086 699 analyze \$1 4096;
#X msg 593 107 window 4096;
#X msg 311 289 analyze \$1 4096;
#X msg 1137 273 analyze \$1 4096;
#X obj 31 530 list append 1 0;
#X obj 33 361 specFlux \$0-ricochet 256;
#X obj 557 355 specHarmonicity \$0-ricochet;
#X obj 862 358 specFlatness \$0-ricochet;
#X obj 1419 372 specKurtosis \$0-ricochet;
#X obj 1419 405 * 0.01;
#X obj 33 202 t f f f f f f, f 197;
#X obj 32 485 pack f f f f f f, f 199;
#X msg 406 325 analyze 2.79467 4096;
#X obj 309 359 specSpread \$0-ricochet;
#X obj 1138 353 specRolloff \$0-ricochet 0.85;
#X obj 1139 409 * 0.0001;
#X obj 309 388 * 0.0001;
#X connect 0 0 36 0;
#X connect 1 0 8 0;
#X connect 1 1 5 0;
#X connect 2 0 5 1;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 6 0 8 1;
#X connect 6 1 2 0;
#X connect 7 0 4 0;
#X connect 9 0 13 0;
#X connect 10 0 11 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 15 0 13 0;
#X connect 16 0 20 0;
#X connect 17 0 18 0;
#X connect 18 0 16 0;
#X connect 19 0 27 0;
#X connect 20 0 31 0;
#X connect 21 0 31 0;
#X connect 22 0 32 0;
#X connect 23 0 33 0;
#X connect 24 0 34 0;
#X connect 26 0 25 0;
#X connect 27 0 31 0;
#X connect 27 0 32 0;
#X connect 27 0 33 0;
#X connect 27 0 34 0;
#X connect 27 0 39 0;
#X connect 27 0 40 0;
#X connect 28 0 39 0;
#X connect 29 0 40 0;
#X connect 30 0 1 0;
#X connect 31 0 37 0;
#X connect 32 1 37 2;
#X connect 33 0 37 3;
#X connect 34 0 35 0;
#X connect 35 0 37 5;
#X connect 36 0 21 0;
#X connect 36 1 28 0;
#X connect 36 2 22 0;
#X connect 36 3 23 0;
#X connect 36 4 29 0;
#X connect 36 5 24 0;
#X connect 37 0 30 0;
#X connect 38 0 39 0;
#X connect 39 0 42 0;
#X connect 40 0 41 0;
#X connect 41 0 37 4;
#X connect 42 0 37 1;
#X restore 197 239 pd descritores;
#X obj 197 46 inlet;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 7 0;
#X connect 3 0 5 0;
#X connect 4 0 1 1;
#X connect 5 0 2 1;
#X connect 5 0 4 0;
#X connect 6 0 5 1;
#X connect 7 0 0 0;
#X connect 9 0 1 0;
#X restore 404 235 pd class_0_analysis;
#N canvas 502 82 929 748 class_1_analysis 0;
#X obj 105 122 until;
#X obj 105 160 f;
#X obj 143 153 + 1;
#X obj 156 121 sel 0;
#X obj 146 211 mod 10;
#X obj 185 159 r n-onset;
#X obj 105 275 * 44100;
#N canvas 294 25 1911 972 descritores 0;
#X obj 33 14 inlet;
#X obj 32 580 t l b, f 19;
#X obj 255 642 + 1;
#X floatatom 161 661 5 0 0 0 - - - 0;
#X msg 236 588 0;
#X obj 162 612 float, f 11;
#X obj 161 635 t f f, f 11;
#X obj 236 566 r reset;
#X obj 32 719 text set analyze, f 18;
#X msg 738 709 print;
#X obj 1508 63 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 1508 83 input_fund \$1;
#X obj 653 766 list split 1;
#X obj 653 740 mfcc \$0-sample 350;
#X obj 653 685 list prepend analyze;
#X obj 653 709 list trim;
#X obj 104 136 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 105 90 loadbang;
#X msg 106 112 1;
#X obj 593 84 loadbang;
#X msg 103 157 normalize \$1;
#X msg 34 323 analyze \$1 4096;
#X msg 490 315 analyze \$1 4096;
#X msg 865 317 analyze \$1 4096;
#X msg 1416 292 analyze \$1 4096;
#X obj 809 717 specSkewness \$0-sample;
#X msg 809 688 analyze \$1 4096;
#X msg 593 107 window 4096;
#X msg 307 313 analyze \$1 4096;
#X msg 1138 304 analyze \$1 4096;
#X obj 32 530 list append 0 1;
#X obj 33 361 specFlux \$0-trill 256;
#X obj 490 345 specHarmonicity \$0-trill;
#X obj 866 357 specFlatness \$0-trill;
#X obj 1419 371 specKurtosis \$0-trill;
#X obj 311 567 r n-onset;
#X obj 1419 397 * 0.01;
#X obj 33 202 t f f f f f f, f 197;
#X obj 32 485 pack f f f f f f, f 199;
#X obj 307 337 specSpread \$0-trill;
#X obj 1138 328 specRolloff \$0-trill 0.85;
#X obj 1137 381 * 0.0001;
#X obj 307 410 * 0.0001;
#X connect 0 0 37 0;
#X connect 1 0 8 0;
#X connect 1 1 5 0;
#X connect 2 0 5 1;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 6 0 8 1;
#X connect 6 1 2 0;
#X connect 7 0 4 0;
#X connect 9 0 13 0;
#X connect 10 0 11 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 15 0 13 0;
#X connect 16 0 20 0;
#X connect 17 0 18 0;
#X connect 18 0 16 0;
#X connect 19 0 27 0;
#X connect 20 0 31 0;
#X connect 21 0 31 0;
#X connect 22 0 32 0;
#X connect 23 0 33 0;
#X connect 24 0 34 0;
#X connect 26 0 25 0;
#X connect 27 0 31 0;
#X connect 27 0 32 0;
#X connect 27 0 33 0;
#X connect 27 0 34 0;
#X connect 27 0 39 0;
#X connect 27 0 40 0;
#X connect 28 0 39 0;
#X connect 29 0 40 0;
#X connect 30 0 1 0;
#X connect 31 0 38 0;
#X connect 32 1 38 2;
#X connect 33 0 38 3;
#X connect 34 0 36 0;
#X connect 35 0 5 1;
#X connect 36 0 38 5;
#X connect 37 0 21 0;
#X connect 37 1 28 0;
#X connect 37 2 22 0;
#X connect 37 3 23 0;
#X connect 37 4 29 0;
#X connect 37 5 24 0;
#X connect 38 0 30 0;
#X connect 39 0 42 0;
#X connect 40 0 41 0;
#X connect 41 0 38 4;
#X connect 42 0 38 1;
#X restore 105 304 pd descritores;
#X obj 105 246 text get trill_onset;
#X obj 105 52 inlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 8 0;
#X connect 2 0 4 0;
#X connect 3 0 0 1;
#X connect 4 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 8 0 6 0;
#X connect 9 0 0 0;
#X restore 343 259 pd class_1_analysis;
#X obj 279 134 t b b b b b, f 36;
#X obj 279 310 print;
#X msg 279 285 analysis completed;
#X obj 279 108 inlet;
#X obj 333 495 text get analyze;
#X obj 334 568 +;
#X obj 333 521 list split 2;
#X msg 818 184 write data/ricochet_trill_6_feat.txt;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 3 0 0 0;
#X connect 5 0 31 0;
#X connect 9 0 10 0;
#X connect 11 0 9 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 13 0 18 0;
#X connect 14 0 16 0;
#X connect 15 0 12 1;
#X connect 16 0 13 1;
#X connect 16 0 15 0;
#X connect 17 0 16 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 23 0 26 0;
#X connect 24 0 27 0;
#X connect 25 0 23 0;
#X connect 25 0 24 0;
#X connect 28 0 6 0;
#X connect 28 0 7 0;
#X connect 31 0 33 0;
#X connect 31 1 30 0;
#X connect 31 2 29 0;
#X connect 31 3 28 0;
#X connect 31 4 21 0;
#X connect 33 0 32 0;
#X connect 34 0 31 0;
#X connect 35 0 37 0;
#X connect 38 0 2 0;
#X restore 1047 92 pd analysis;
#X obj 1434 19 declare -lib timbreIDLib;
#X obj 1368 103 openpanel;
#X msg 1368 151 stop;
#X msg 1410 150 bang;
#N canvas 604 365 756 410 sound 0;
#X obj 51 109 soundfiler;
#X obj 51 40 t a b;
#X obj 51 16 inlet;
#X obj 51 133 s \$0-resize;
#X obj 51 63 pack s f \$0;
#X floatatom 174 152 15 0 0 1 samples - - 0;
#X msg 51 86 read -resize \$1 \$3-sample;
#X obj 49 161 table \$0-sample;
#X obj 174 175 / 44100;
#X floatatom 175 197 10 0 0 1 length\ (seconds) - - 0;
#X obj 198 292 s analyze-sample;
#X obj 221 269 s clear-analysis;
#X obj 191 221 s sample-length;
#X obj 406 74 f \$0;
#X obj 406 55 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 374 10 loadbang;
#X obj 374 303 print loaded;
#X msg 374 280 sample file;
#X obj 374 32 t b b;
#X obj 495 42 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 175 246 t b b b;
#X msg 406 96 read -resize audio/ricochet.wav \$1-sample;
#X connect 0 0 3 0;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 1 0;
#X connect 4 0 6 0;
#X connect 5 0 8 0;
#X connect 6 0 0 0;
#X connect 8 0 9 0;
#X connect 9 0 12 0;
#X connect 9 0 20 0;
#X connect 13 0 21 0;
#X connect 14 0 13 0;
#X connect 15 0 18 0;
#X connect 17 0 16 0;
#X connect 18 0 17 0;
#X connect 18 1 14 0;
#X connect 19 0 18 0;
#X connect 20 1 10 0;
#X connect 20 2 11 0;
#X connect 21 0 0 0;
#X restore 1368 124 pd sound;
#X obj 1368 76 bng 19 250 50 0 empty empty load\ samples 20 9 0 12 #00ff04 #000000 #000000;
#X obj 1368 204 dac~;
#X text 885 155 <-- configuração da rede: 4 camadas e dados de entra com 6 dimensões. Camadas: (3 ocultas + 1 saída) 1º camada oculta: 12 neurônios \, 2º camada oculta 6 neurônios \, 3º camada oculta: 4 neurônios \, camada de saída 2 neurônios, f 37;
#X text 478 26 <-- carrega dataset;
#N canvas 1179 263 785 528 classes 0;
#X obj 69 178 expr if($f1<$f2 \, 0 \, 1);
#X obj 69 149 unpack f f, f 22;
#X obj 68 22 inlet;
#X obj 69 237 pack f f, f 27;
#X obj 69 268 outlet;
#X obj 255 179 expr if($f1<$f2 \, 1 \, 0);
#X obj 255 151 unpack f f, f 22;
#X obj 68 50 t l l;
#X obj 337 278 s class;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 1 1 0 1;
#X connect 2 0 7 0;
#X connect 3 0 4 0;
#X connect 3 0 8 0;
#X connect 5 0 3 1;
#X connect 6 0 5 0;
#X connect 6 1 5 1;
#X connect 7 0 1 0;
#X connect 7 1 6 0;
#X restore 209 626 pd classes;
#X listbox 209 659 20 0 0 0 - - - 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-erro 1000 float 1;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 1 999 -0.1 400 240 1 0 0;
#X restore 760 525 graph;
#X obj 783 63 s test;
#X obj 699 63 s training;
#X obj 699 41 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 783 41 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 795 309 evaluation \$1;
#X obj 795 284 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 644 316 datasize \$1;
#X floatatom 644 295 5 0 0 0 - - - 0;
#X obj 644 273 r datasize;
#X msg 463 237 epochs \$1;
#X floatatom 464 216 5 0 0 0 - - - 0;
#X obj 464 195 r epochs;
#X text 360 656 1 0 = ricochet;
#X text 361 676 0 1 = trill;
#N canvas 631 25 1585 841 real-time-analysis 0;
#N canvas 339 182 793 521 live-onset 0;
#X obj 191 244 bark~ 1024 64 1;
#X msg 425 115 mask 4 0.75;
#X msg 435 191 filter_range 0 20;
#X obj 188 72 r~ sig;
#X obj 353 34 loadbang;
#X obj 193 316 outlet;
#X msg 430 151 debounce 550;
#X msg 437 231 minvel 2;
#X obj 529 85 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 529 105 loudness \$1;
#X obj 633 86 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 633 106 filter_avg \$1;
#X msg 412 72 thresh -1 6.5;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 12 0;
#X connect 4 0 6 0;
#X connect 4 0 2 0;
#X connect 4 0 1 0;
#X connect 4 0 7 0;
#X connect 4 0 8 0;
#X connect 4 0 10 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 12 0 0 0;
#X restore 206 72 pd live-onset;
#X obj 45 70 r~ sig;
#X obj 38 290 pack f f f f f f, f 102;
#X obj 38 220 specFlux~ 4096 256;
#X obj 180 220 specSpread~ 4096;
#X obj 307 220 specHarmonicity~ 4096;
#X obj 463 219 specFlatness~ 4096;
#X obj 606 219 specRolloff~ 4096 0.85;
#X obj 769 219 specKurtosis~ 4096;
#X text 952 83 Z-score em tempo real = X - média/desvio padrão, f 40;
#X text 953 124 Feature 1: Média = 0.170411 \, Desvio Padrão = 0.059936 Feature 2: Média = 3548.07 \, Desvio Padrão = 1049.04 Feature 3: Média = 0.247424 \, Desvio Padrão = 0.465421 Feature 4: Média = 0.172128 \, Desvio Padrão = 0.125857 Feature 5: Média = 5615.86 \, Desvio Padrão = 2444.79 Feature 6: Média = 10.575 \, Desvio Padrão = 5.20604, f 57;
#X obj 40 664 pack f f f f f f, f 102;
#X obj 428 67 r bang;
#X text 939 229 Feature 1: Média = 0.173884 \, Desvio Padrão = 0.05559 Feature 2: Média = 3634.8 \, Desvio Padrão = 952.435 Feature 3: Média = 0.234528 \, Desvio Padrão = 0.505152 Feature 4: Média = 0.176585 \, Desvio Padrão = 0.113219 Feature 5: Média = 5540.49 \, Desvio Padrão = 2103.01 Feature 6: Média = 10.6246 \, Desvio Padrão = 4.92884, f 53;
#X obj 1041 484 expr ($f1-0.173884 / 0.055590);
#X obj 1182 453 expr $f1-3634.797000 / 952.435;
#X obj 1325 425 expr $f1-0.234528 / 0.505152;
#X obj 1469 399 expr $f1-0.176585 / 0.113219;
#X obj 1609 370 expr $f1-5540.494000 / 2103.01;
#X obj 1751 335 expr $f1-10.624645 / 4.92884;
#X obj 40 578 expr ($f1-0 / 0.365764-0);
#X obj 182 538 expr ($f1-1490.48 / 5878.83-1490.48);
#X obj 469 472 expr ($f1-0 / 0.521590-0);
#X obj 612 426 expr ($f1-1475.02 / 13329.10-1475.02);
#X obj 756 377 expr ($f1-2.851460 / 23.71-2.851460);
#X obj 324 506 expr ($f1-0.007986 / 0.694910-0.007986);
#X obj 563 45 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 564 90 normalize \$1;
#X text 601 44 Normalize spectrum. Default: OFF.;
#X obj 747 77 loadbang;
#X msg 747 98 1;
#X obj 40 737 s data;
#X obj 40 700 list append 0 0;
#X obj 38 329 unpack f f f f f f, f 103;
#X text 252 473 (min max);
#X connect 0 0 3 0;
#X connect 0 0 8 0;
#X connect 0 0 7 0;
#X connect 0 0 6 0;
#X connect 0 0 5 0;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 1 0 8 0;
#X connect 1 0 7 0;
#X connect 1 0 6 0;
#X connect 1 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 33 0;
#X connect 3 0 2 0;
#X connect 4 0 2 1;
#X connect 5 1 2 2;
#X connect 6 0 2 3;
#X connect 7 0 2 4;
#X connect 8 0 2 5;
#X connect 11 0 32 0;
#X connect 12 0 3 0;
#X connect 12 0 8 0;
#X connect 12 0 7 0;
#X connect 12 0 6 0;
#X connect 12 0 5 0;
#X connect 12 0 4 0;
#X connect 20 0 11 0;
#X connect 21 0 11 1;
#X connect 22 0 11 3;
#X connect 23 0 11 4;
#X connect 24 0 11 5;
#X connect 25 0 11 2;
#X connect 26 0 27 0;
#X connect 27 0 3 0;
#X connect 29 0 30 0;
#X connect 30 0 26 0;
#X connect 33 0 20 0;
#X connect 33 1 21 0;
#X connect 33 2 25 0;
#X connect 33 3 22 0;
#X connect 33 4 23 0;
#X connect 33 5 24 0;
#X restore 1511 239 pd real-time-analysis;
#X msg 1039 439 read data/modelos/ricochet_trill_modelo6.txt;
#X obj 1340 230 s~ sig;
#X obj 1118 251 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 1118 275 s bang;
#X obj 302 320 r data;
#X msg 1373 310 af tanh 1 prelu 2 prelu 3 prelu 4 prelu 5 prelu 6 prelu 7 prelu 8 prelu 9 relu 10 relu 11 softmax 12, f 62;
#X obj 1368 176 tabplay~ \$0-sample;
#N canvas 963 169 1585 841 real-time-analysis 1;
#N canvas 339 182 793 521 live-onset 0;
#X obj 191 244 bark~ 1024 64 1;
#X msg 425 115 mask 4 0.75;
#X msg 435 191 filter_range 0 20;
#X obj 188 72 r~ sig;
#X obj 353 34 loadbang;
#X obj 193 316 outlet;
#X msg 430 151 debounce 550;
#X msg 437 231 minvel 2;
#X obj 529 85 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 529 105 loudness \$1;
#X obj 633 86 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 633 106 filter_avg \$1;
#X msg 412 72 thresh -1 6.5;
#X connect 0 0 5 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 4 0 12 0;
#X connect 4 0 6 0;
#X connect 4 0 2 0;
#X connect 4 0 1 0;
#X connect 4 0 7 0;
#X connect 4 0 8 0;
#X connect 4 0 10 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 12 0 0 0;
#X restore 206 72 pd live-onset;
#X obj 45 70 r~ sig;
#X obj 38 220 specFlux~ 4096 256;
#X obj 355 223 specHarmonicity~ 4096;
#X obj 553 224 specFlatness~ 4096;
#X obj 900 221 specKurtosis~ 4096;
#X text 952 83 Z-score em tempo real = X - média/desvio padrão, f 40;
#X obj 428 67 r bang;
#X obj 1041 484 expr ($f1-0.173884 / 0.055590);
#X obj 1182 453 expr $f1-3634.797000 / 952.435;
#X obj 1325 425 expr $f1-0.234528 / 0.505152;
#X obj 1469 399 expr $f1-0.176585 / 0.113219;
#X obj 1609 370 expr $f1-5540.494000 / 2103.01;
#X obj 1751 335 expr $f1-10.624645 / 4.92884;
#X obj 563 45 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 564 90 normalize \$1;
#X text 601 44 Normalize spectrum. Default: OFF.;
#X obj 747 77 loadbang;
#X msg 747 98 1;
#X obj 38 356 s data;
#X obj 38 319 list append 0 0;
#X obj 1156 648 expr ($f1-0.082090 / 0.365764-0.082090);
#X obj 900 245 * 0.01;
#X obj 725 222 specRolloff~ 4096 0.85;
#X obj 39 289 pack f f f f f f, f 123;
#X obj 210 221 specSpread~ 4096;
#X obj 725 249 * 0.0001;
#X obj 210 248 * 0.0001;
#X connect 0 0 2 0;
#X connect 0 0 5 0;
#X connect 0 0 4 0;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 1 0 4 0;
#X connect 1 0 3 0;
#X connect 1 0 25 0;
#X connect 1 0 23 0;
#X connect 2 0 24 0;
#X connect 3 1 24 2;
#X connect 4 0 24 3;
#X connect 5 0 22 0;
#X connect 7 0 2 0;
#X connect 7 0 5 0;
#X connect 7 0 4 0;
#X connect 7 0 3 0;
#X connect 7 0 23 0;
#X connect 7 0 25 0;
#X connect 14 0 15 0;
#X connect 15 0 2 0;
#X connect 17 0 18 0;
#X connect 18 0 14 0;
#X connect 20 0 19 0;
#X connect 22 0 24 5;
#X connect 23 0 26 0;
#X connect 24 0 20 0;
#X connect 25 0 27 0;
#X connect 26 0 24 4;
#X connect 27 0 24 1;
#X restore 1047 117 pd real-time-analysis;
#X obj 32 642 print out;
#X obj 329 354 print data;
#X text 1251 757 sigmoid e tanh: xavier relu e prelu: he;
#X msg 1023 410 write data/modelos/ricochet_trill_modelo.txt;
#X msg 438 142 size 9 6 40 35 30 25 20 15 10 5 2;
#X msg 1498 358 size 12 6 90 80 70 60 50 40 30 20 10 5 3 2;
#X msg 73 72 5000;
#X msg 286 97 af relu 1 relu 2 relu 3 relu 4 relu 5 relu 6 relu 7 relu 8 softmax 9, f 70;
#X msg 463 548 af relu 1 relu 2 relu 3 softmax 4, f 34;
#X msg 299 161 learning 0.001;
#X msg 463 580 size 4 4 8 6 4 3;
#X msg 672 504 1000;
#X connect 0 0 7 0;
#X connect 0 0 35 0;
#X connect 0 1 23 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 6 0 5 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 9 0;
#X connect 16 0 0 0;
#X connect 17 0 0 0;
#X connect 18 0 0 0;
#X connect 19 0 0 0;
#X connect 20 0 0 0;
#X connect 21 0 2 0;
#X connect 22 0 0 0;
#X connect 23 0 11 0;
#X connect 23 1 12 0;
#X connect 23 2 13 0;
#X connect 23 2 14 0;
#X connect 24 0 25 0;
#X connect 27 0 30 0;
#X connect 28 0 59 0;
#X connect 29 0 59 0;
#X connect 31 0 27 0;
#X connect 35 0 36 0;
#X connect 40 0 39 0;
#X connect 41 0 38 0;
#X connect 42 0 0 0;
#X connect 43 0 42 0;
#X connect 44 0 0 0;
#X connect 45 0 44 0;
#X connect 46 0 45 0;
#X connect 47 0 0 0;
#X connect 48 0 47 0;
#X connect 49 0 48 0;
#X connect 53 0 0 0;
#X connect 55 0 56 0;
#X connect 57 0 62 0;
#X connect 57 0 0 0;
#X connect 58 0 0 0;
#X connect 59 0 32 0;
#X connect 59 0 32 1;
#X connect 59 0 54 0;
#X connect 64 0 0 0;
#X connect 65 0 0 0;
#X connect 66 0 0 0;
#X connect 67 0 2 0;
#X connect 68 0 0 0;
#X connect 69 0 0 0;
#X connect 70 0 0 0;
#X connect 71 0 0 0;
#X connect 72 0 15 0;
